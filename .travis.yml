env:
 - CPM_SOURCE_CACHE=$HOME/cpm_source_cache

language: cpp

branches:
  only:
  - travis

os:
  - windows
  - osx
  - linux

install:
- |-
    case $TRAVIS_OS_NAME in
      windows)
        choco install visualstudio2019buildtools
        choco upgrade cmake
        ;;
      osx)
        brew upgrade cmake
        ;;
      linux)
        apt-get install --only-upgrade cmake
        ;;
    esac

script:
 - cmake . 
 - cmake --build .

 cache:
    directories:
    - $HOME/AppData/Local/Temp/chocolatey
    - $CPM_SOURCE_CACHE